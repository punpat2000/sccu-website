name: Linting code

on: pull_request

jobs:
  lint-frontend:
    runs-on: ubuntu-latest
    name: Lint all Angular code ðŸ©º
    steps:
      - name: Checkout ðŸ”Ž
        uses: actions/checkout@v2
      - name: Cache
        uses: actions/cache@v2
        with:
          path: '**/node_modules'
          key: ${{ runner.os }}-modules-${{ hashFiles('**/yarn.lock') }}
      - name: Install modules ðŸ•“
        working-directory: ./web
        run: yarn add --no-lockfile eslint @angular-eslint/eslint-plugin @angular-eslint/eslint-plugin-template eslint-config-prettier eslint-plugin-prettier
      - name: Run lint ðŸ’–
        working-directory: ./web
        run: yarn lint
